<!DOCTYPE html>
<html lang="en">



<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams',
      packages: ['base', 'ams', 'newcommand','configmacros'],
      macros: {
        RR: '{\\mathbb{R}}',
        ddx: ['\\frac{d#2}{d#1}', 2, 'x']
      }
    },
    loader: {
      load: ['ui/menu', '[tex]/ams']
    }
  };
  </script>
  
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>


<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>The Mysteries of MathJax: Macros and Numbering | A Mathematical Structure named “Blog”</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="The Mysteries of MathJax: Macros and Numbering" />
<meta name="author" content="Tony Wang" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Site Setup I decided to write this post as a reminder to future-me (and anyone else who might read this) about how this site was set up, and in particular, how to get MathJax working. This was a lengthy process, synthesising material from old 2012 StackExchange posts (all slightly - but not completely - obsolete now) and dead-ends, and I don’t want to repeat the process whenever I come back to work on this site. If you know JavaScript/HTML/Ruby already, the process would probably much easier, but I don’t, so here goes!" />
<meta property="og:description" content="Site Setup I decided to write this post as a reminder to future-me (and anyone else who might read this) about how this site was set up, and in particular, how to get MathJax working. This was a lengthy process, synthesising material from old 2012 StackExchange posts (all slightly - but not completely - obsolete now) and dead-ends, and I don’t want to repeat the process whenever I come back to work on this site. If you know JavaScript/HTML/Ruby already, the process would probably much easier, but I don’t, so here goes!" />
<link rel="canonical" href="http://localhost:4000/blog/hosting/2021/09/16/MathJax.html" />
<meta property="og:url" content="http://localhost:4000/blog/hosting/2021/09/16/MathJax.html" />
<meta property="og:site_name" content="A Mathematical Structure named “Blog”" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-09-16T23:34:48+10:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="The Mysteries of MathJax: Macros and Numbering" />
<script type="application/ld+json">
{"description":"Site Setup I decided to write this post as a reminder to future-me (and anyone else who might read this) about how this site was set up, and in particular, how to get MathJax working. This was a lengthy process, synthesising material from old 2012 StackExchange posts (all slightly - but not completely - obsolete now) and dead-ends, and I don’t want to repeat the process whenever I come back to work on this site. If you know JavaScript/HTML/Ruby already, the process would probably much easier, but I don’t, so here goes!","headline":"The Mysteries of MathJax: Macros and Numbering","dateModified":"2021-09-16T23:34:48+10:00","datePublished":"2021-09-16T23:34:48+10:00","url":"http://localhost:4000/blog/hosting/2021/09/16/MathJax.html","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/hosting/2021/09/16/MathJax.html"},"author":{"@type":"Person","name":"Tony Wang"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="A Mathematical Structure named &quot;Blog&quot;" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">A Mathematical Structure named &quot;Blog&quot;</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">The Mysteries of MathJax: Macros and Numbering</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2021-09-16T23:34:48+10:00" itemprop="datePublished">Sep 16, 2021
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Tony Wang</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="site-setup">Site Setup</h1>
<p>I decided to write this post as a reminder to future-me (and anyone else who might read this) about how this site was set up, and in particular, how to get MathJax working. This was a lengthy process, synthesising material from old 2012 StackExchange posts  (all slightly - but not completely - obsolete now) and dead-ends, and I don’t want to repeat the process whenever I come back to work on this site. If you know JavaScript/HTML/Ruby already, the process would probably much easier, but I don’t, so here goes!</p>

<h2 id="system-requirements">System Requirements</h2>
<ul>
  <li>Currently working on MacOS Monterey 12.0.1, although this entire process works for at least MacOS 11.X. I believe Windows is not (officially) supported by Jekyll currently, although it could still be made to run without many tweaks.</li>
  <li>MathJax 3.XX (Importantly, the syntax changed between MathJax 2.XX and 3.XX. If you are just getting started, this shouldn’t be important.)</li>
</ul>

<h2 id="basics">Basics</h2>
<p>This site is set up using GitHub Pages, so all the assets are contained within a GitHub repository (see https://github.com/twan3617/twan3617.github.io for the assets running this blog). The code that makes this page work is based on Jekyll, and the basic introduction can be found here: https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll.</p>

<p>I will assume you have followed the tutorials and managed to set up Jekyll with a  theme that you like (for example, I’m using Minima). If you use the pre-set themes, your file structure should be exactly the same (if not, at least similar).</p>

<p>There were some “gotchas” that took ages for me to figure out during the whole process. I will add them in as I remember them:</p>
<ul>
  <li>When installing (or updating) Ruby/Jekyll, if your system is throwing errors about not being able to find the installation <em>despite it being right in front of your eyes</em>, you may need to alter your PATH variable (if the installation is not in PATH, then the OS will never be able to find the right folders).</li>
</ul>

<p>For example, let’s suppose I am installing Ruby 3.0.0. Since I am using zsh, I would go to ~/.zshrc and, with my favourite text editor (struggling to learn how to use vim!), paste in</p>

\[\text{export PATH="/usr/local/opt/ruby/bin:/usr/local/lib/ruby/gems/3.0.0/bin:\$PATH"}\]

<p>at the end of the file.</p>

<ul>
  <li>Use bundle exec jekyll serve to start up the server: find your website at localhost:4000.</li>
</ul>

<h2 id="method">Method</h2>
<ol>
  <li>Create mathjax.html inside your_site/_includes with the following code:</li>
</ol>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span><span class="o">&gt;</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">MathJax</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">tex</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">tags</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ams</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">packages</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">base</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ams</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">newcommand</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">configmacros</span><span class="dl">'</span><span class="p">],</span>
      <span class="na">macros</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">RR</span><span class="p">:</span> <span class="dl">'</span><span class="s1">{</span><span class="se">\\</span><span class="s1">mathbb{R}}</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">ddx</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="se">\\</span><span class="s1">frac{d#2}{d#1}</span><span class="dl">'</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="dl">'</span><span class="s1">x</span><span class="dl">'</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="na">loader</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">load</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">ui/menu</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">[tex]/ams</span><span class="dl">'</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">};</span>
  <span class="o">&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>  
<span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">MathJax-script</span><span class="dl">"</span> <span class="k">async</span>
  <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span></code></pre></figure>

<p>The code with the URL</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text/javascript</span><span class="dl">"</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">MathJax-script</span><span class="dl">"</span> <span class="k">async</span>
  <span class="nx">src</span><span class="o">=</span><span class="dl">"</span><span class="s2">https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js</span><span class="dl">"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/script&gt;</span></code></pre></figure>

<p>tells your server where to find the MathJax3 scripts. The code starting with window.MathJax is where you define your configurations. In particular, “tags: ‘ams’” numbers all equations in a specific equation format (you can use ‘all’ as well, which just numbers everything), “packages: …” is where you include TeX packages (importantly, in order for macros to run, you must include configmacros in packages), and finally, “macros: …”, where you can define custom macros that can be read. Macros are in the form</p>

\[\text{command: 'TeX output'}\]

<p>so in the code above, typing \RR in an equation setting would produce the math blackboard font \(\RR\).</p>

<p>If you <em>don’t</em> want MathJax to run on every page, you can include an if statement in the scripts as follows:</p>

\[\{\% \text{  if page.mathjax = true  }  \%\}\]

\[\text{code script from above}\]

\[\{\% \text{  endif  } \%\}\]

<p>In the front matter of your html files (that is, the code between the triple dashes), include the line</p>

\[\text{mathjax: true}\]

<p>Finally, under your_site/default.html, include the line</p>

\[\text{\{\% include mathjax.html \%\}}\]

<p>in-between the HTML tags, so that every page which uses the default layout can read the code in mathjax.html. This should allow equations to be rendered!</p>

<h1 id="testing-equation-numbering-and-macros">Testing Equation Numbering and Macros</h1>
<p>Note that for in-line equations, unlike LaTeX, you need to type two dollar signs in order for your markdown reader to render the equation. If you want to type in an equation format, you should put the dollar signs on a new line.</p>

<p>Below, we write an equation, give it a numbering, then reference the equation later.
\begin{equation}
\int_{\Omega} A(x, u, \nabla u) \phi \: dx = 0,    \label{123}
\end{equation}
In equation \eqref{123}, the equality holds for all \(\phi \in C_c^\infty(\Omega)\) (the set of compactly supported infinitely differentiable functions in \(\Omega \subseteq \RR\)).</p>

<p>We have also defined macros that replace \RR with \(\RR\) and \ddx{f(x)} with \(\ddx{f(x)}\):
\begin{align}
\RR \quad \ddx{f(x)}
\end{align}</p>

<p>As an aside, there is also a code highlighter: given a language, Jekyll can parse and highlight keywords in the code and return a nicely formatted block:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="k">return</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code></pre></figure>

<p>To get this, simply type</p>

<p>% highlight language %</p>

<p>print(“hello world”)</p>

<p>% endhighlight %</p>

<p>while enclosing the top and bottom lines in braces {}.</p>

  </div><a class="u-url" href="/blog/hosting/2021/09/16/MathJax.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">A Mathematical Structure named &quot;Blog&quot;</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">A Mathematical Structure named &quot;Blog&quot;</li><li><a class="u-email" href="mailto:tonywang205@yahoo.com.au">tonywang205@yahoo.com.au</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Hi! Welcome to my website. I am hoping to post content related to mathematics and statistics here during my studies and beyond.  Hosted on Github Pages using Jekyll. Mathematical equations are displayed with MathJax.</p>
      </div>
    </div>

  </div>

</footer>
</body>
</html>

